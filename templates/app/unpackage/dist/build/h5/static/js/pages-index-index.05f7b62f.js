(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"474a":function(t,i,a){"use strict";a.r(i);var e=a("8deb"),n=a("94f8");for(var o in n)"default"!==o&&function(t){a.d(i,t,(function(){return n[t]}))}(o);a("ac59");var s,u=a("f0c5"),r=Object(u["a"])(n["default"],e["b"],e["c"],!1,null,"261ae5da",null,!1,e["a"],s);i["default"]=r.exports},"8deb":function(t,i,a){"use strict";var e,n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"uni-form-item"},[a("v-uni-input",{staticClass:"uni-input bottom-border",attrs:{type:"text",placeholder:"请输入书籍名称搜索"},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.searchBook.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"title uni-center uni-padding-wrap uni-h4 uni-bg-blue"},[t._v(t._s(t.message))]),a("v-uni-view",{staticClass:"uni-flex flex-row book-container uni-center"},t._l(t.books,(function(i,e){return a("v-uni-view",{staticClass:"uni-flex-item",attrs:{"data-subject":i.subject},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.reviewsList.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"book"},[a("v-uni-view",[a("v-uni-image",{attrs:{mode:"aspectFit",src:i.pic}})],1),a("v-uni-view",[a("v-uni-text",{staticClass:"uni-h4"},[t._v(t._s(i.book))])],1),a("v-uni-view",[t._v("评分 ："),a("v-uni-text",[t._v(t._s(i.rating_num))])],1),a("v-uni-view",[a("v-uni-text",{staticClass:"uni-h5"},[t._v(t._s(i.author))])],1)],1)],1)})),1)],1)},o=[];a.d(i,"b",(function(){return n})),a.d(i,"c",(function(){return o})),a.d(i,"a",(function(){return e}))},"94f8":function(t,i,a){"use strict";a.r(i);var e=a("e965"),n=a.n(e);for(var o in e)"default"!==o&&function(t){a.d(i,t,(function(){return e[t]}))}(o);i["default"]=n.a},ac59:function(t,i,a){"use strict";var e=a("f45f"),n=a.n(e);n.a},e965:function(t,i,a){"use strict";a("99af"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={data:function(){return{books:[],start:0,message:"豆瓣读书 Top 250",search_book:!1,hasMore:!0}},onLoad:function(){this.loadBooks()},onReachBottom:function(){var t=this;console.log("触底"),this.search_book||(uni.showLoading({title:"正在拼命加载中..."}),this.start+=25,uni.request({url:"http://47.102.212.210:5000/top250/"+this.start,success:function(i){t.books=t.books.concat(i.data.data),uni.hideLoading()}}))},methods:{loadBooks:function(){var t=this;uni.showLoading({title:"正在拼命加载中..."}),uni.request({url:"http://47.102.212.210:5000/top250",success:function(i){500==i.statusCode&&(t.hasMore=!1,uni.showToast({icon:"none",title:"抱歉！没有更多书籍了"})),t.books=i.data.data,uni.hideLoading()}})},reviewsList:function(t){console.log(t),uni.navigateTo({url:"../reviews/reviews?id="+t.currentTarget.dataset.subject})},searchBook:function(t){var i=this;uni.showLoading({title:"正在拼命搜索中..."});var a=t.target.value;if(""==a)return this.start=0,this.books=[],this.message="豆瓣读书 Top 250",this.search_book=!1,void this.loadBooks();this.message="搜索结果",this.search_book=!0,uni.request({url:"http://47.102.212.210:5000/search/"+a,success:function(t){i.books=t.data.data,uni.hideLoading(),0==i.books.length&&(i.message="没有搜索到任何结果。。。")},fail:function(){this.message="发生了错误，请稍后再试"}})}}};i.default=e},f403:function(t,i,a){var e=a("24fb");i=e(!1),i.push([t.i,"uni-input[data-v-261ae5da]{border:#20c997 solid 1px;margin:%?20?%}.book-container[data-v-261ae5da]{-webkit-flex-wrap:wrap;flex-wrap:wrap;padding:%?20?%}.book[data-v-261ae5da]{border:solid 1px #d1ecf1;margin:1px;min-height:%?50?%}uni-image[data-v-261ae5da]{margin:%?1?% 1px;width:%?300?%}.title[data-v-261ae5da]{margin:%?10?%;padding:%?15?%;border-radius:10px}",""]),t.exports=i},f45f:function(t,i,a){var e=a("f403");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("5a94b8c0",e,!0,{sourceMap:!1,shadowMode:!1})}}]);