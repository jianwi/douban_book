(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"0de9":function(t,e,n){"use strict";function i(t){var e=Object.prototype.toString.call(t);return e.substring(8,e.length-1)}function s(){return"string"===typeof __channelId__&&__channelId__}function a(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];console[t].apply(console,n)}function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e.shift();if(s())return e.push(e.pop().replace("at ","uni-app:///")),console[a]["apply"](console,e);var r=e.map((function(t){var e=Object.prototype.toString.call(t).toLowerCase();if("[object object]"===e||"[object array]"===e)try{t="---BEGIN:JSON---"+JSON.stringify(t)+"---END:JSON---"}catch(s){t="[object object]"}else if(null===t)t="---NULL---";else if(void 0===t)t="---UNDEFINED---";else{var n=i(t).toUpperCase();t="NUMBER"===n||"BOOLEAN"===n?"---BEGIN:"+n+"---"+t+"---END:"+n+"---":String(t)}return t})),o="";if(r.length>1){var u=r.pop();o=r.join("---COMMA---"),0===u.indexOf(" at ")?o+=u:o+="---COMMA---"+u}else o=r[0];console[a](o)}n.r(e),n.d(e,"log",(function(){return a})),n.d(e,"default",(function(){return r}))},"1e51":function(t,e,n){"use strict";var i={star:n("a199").default},s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[n("view",{staticClass:t._$s(1,"sc","uni-flex uni-row uni-page-body"),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","uni-flex-item uni-center"),attrs:{_i:2}},[n("image",{staticClass:t._$s(3,"sc","book_pic"),attrs:{src:t._$s(3,"a-src",t.book.pic),_i:3}})]),n("view",{staticClass:t._$s(4,"sc","uni-flex-item uni-column uni-flex  uni-container"),attrs:{_i:4}},[n("text",{staticClass:t._$s(5,"sc","uni-h3"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.book.name)))]),n("text",{staticClass:t._$s(6,"sc","uni-h5"),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.book.author)))]),n("text",{staticClass:t._$s(7,"sc","uni-h5"),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s(t.book.publish)))]),n("text",{staticClass:t._$s(8,"sc","uni-h5"),attrs:{_i:8}},[t._v(t._$s(8,"t0-0",t._s(t.book.prize)))]),n("text",{staticClass:t._$s(9,"sc","uni-h5"),attrs:{_i:9}},[t._v(t._$s(9,"t0-0",t._s(t.book.pages)))]),n("text",{staticClass:t._$s(10,"sc","uni-h5"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.book.date)))])])]),n("view",{staticClass:t._$s(11,"sc","uni-center"),attrs:{_i:11}},[n("view",{staticClass:t._$s(12,"sc","title uni-center uni-padding-wrap uni-h4 uni-bg-blue"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.message)))])]),n("view",{staticClass:t._$s(13,"sc","uni-flex uni-column"),attrs:{_i:13}},t._l(t._$s(14,"f",{forItems:t.reviews}),(function(e,i,s,a){return n("view",{key:t._$s(14,"f",{forIndex:s,key:i}),staticClass:t._$s("14-"+a,"sc","review-container uni-flex-item uni-padding-wrap"),attrs:{_i:"14-"+a}},[n("view",{staticClass:t._$s("15-"+a,"sc","avatar-container uni-flex"),attrs:{_i:"15-"+a}},[n("image",{staticClass:t._$s("16-"+a,"sc","avatar"),attrs:{src:t._$s("16-"+a,"a-src",e.avatar),_i:"16-"+a}}),n("view",{staticClass:t._$s("17-"+a,"sc","uni-flex uni-column"),attrs:{_i:"17-"+a}},[n("view",{staticClass:t._$s("18-"+a,"sc","uni-flex base-center uni-row"),attrs:{_i:"18-"+a}},[n("text",{staticClass:t._$s("19-"+a,"sc","uni-h5"),attrs:{_i:"19-"+a}},[t._v(t._$s("19-"+a,"t0-0",t._s(e.author)))]),n("text",[n("star",{attrs:{stars:"5",_i:"21-"+a}})],1)]),n("text",{staticClass:t._$s("22-"+a,"sc","review-title"),attrs:{"data-code":t._$s("22-"+a,"a-data-code",e.code),_i:"22-"+a},on:{click:t.goReviewDetail}},[t._v(t._$s("22-"+a,"t0-0",t._s(e.name)))])])]),n("view",[t._v(t._$s("23-"+a,"t0-0",t._s(e.review_short)))])])})),0)])},a=[];n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},"24f1":function(t,e,n){"use strict";n.r(e);var i=n("500a"),s=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=s.a},"26c6":function(t,e,n){"undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))}),uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/index/index",(function(){return Vue.extend(n("474a").default)})),__definePage("pages/reviews/reviews",(function(){return Vue.extend(n("c223").default)})),__definePage("pages/review/review",(function(){return Vue.extend(n("3509").default)}))},2723:function(t,e,n){"use strict";n.r(e);var i=n("5b22"),s=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=s.a},3509:function(t,e,n){"use strict";n.r(e);var i=n("6b93"),s=n("e4ad");for(var a in s)"default"!==a&&function(t){n.d(e,t,(function(){return s[t]}))}(a);var r,o=n("f0c5"),u=Object(o["a"])(s["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=u.exports},"474a":function(t,e,n){"use strict";n.r(e);var i=n("a9b5"),s=n("94f8");for(var a in s)"default"!==a&&function(t){n.d(e,t,(function(){return s[t]}))}(a);var r,o=n("f0c5"),u=Object(o["a"])(s["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=u.exports},"500a":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={onLaunch:function(){t("log","App Launch"," at App.vue:4")},onShow:function(){t("log","App Show"," at App.vue:7")},onHide:function(){t("log","App Hide"," at App.vue:10")}};e.default=n}).call(this,n("0de9")["default"])},"532e":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={appid:"__UNI__C079070"};e.default=i},"53dd":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{book:{},review:"",title:"",author:{}}},methods:{},onLoad:function(e){var n=this;t("log",e," at pages\\review\\review.vue:37"),uni.request({url:"http://47.102.212.210:5000/review/"+e.code,success:function(t){n.review=t.data.data.content,n.book=t.data.data.book,n.author=t.data.data.author,n.title=t.data.data.title}})}};e.default=n}).call(this,n("0de9")["default"])},"582c":function(t,e,n){"use strict";n.r(e);var i=n("fbdc"),s=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=s.a},"5b09":function(t,e,n){"use strict";n("26c6"),n("921b");var i=a(n("8bbf")),s=a(n("8de5"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}i.default.config.productionTip=!1,s.default.mpType="app";var c=new i.default(o({},s.default));c.$mount()},"5b22":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(n("a199"));function s(t){return t&&t.__esModule?t:{default:t}}var a={data:function(){return{reviews:[],book:{},message:"书评列表"}},components:{star:i.default},methods:{goReviewDetail:function(e){t("log",e," at pages\\reviews\\reviews.vue:65");var n=e.currentTarget.dataset.code;uni.navigateTo({url:"../review/review?code="+n})}},onLoad:function(e){var n=this;t("log",e," at pages\\reviews\\reviews.vue:74"),uni.request({url:"http://47.102.212.210:5000/book/"+e.id,success:function(t){n.reviews=t.data.data.items,n.book=t.data.data.book}})},onReachBottom:function(){t("log","到底了"," at pages\\reviews\\reviews.vue:84"),uni.request({url:""})}};e.default=a}).call(this,n("0de9")["default"])},"65b7":function(t,e,n){"use strict";var i,s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-flex star-container"),attrs:{_i:0}},t._l(t._$s(1,"f",{forItems:t.star_count}),(function(e,i,s,a){return n("text",{key:t._$s(1,"f",{forIndex:s,key:"1-"+a})})})),0)},a=[];n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},"6b93":function(t,e,n){"use strict";var i,s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[n("view"),n("view"),n("view",{staticClass:t._$s(3,"sc","review-content"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-h3 uni-center"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.title)))]),n("view",{staticClass:t._$s(5,"sc","uni-flex uni-row avatar-container"),attrs:{_i:5}},[n("image",{staticClass:t._$s(6,"sc","avatar"),attrs:{src:t._$s(6,"a-src",t.author.avatar),_i:6}}),n("text",{staticClass:t._$s(7,"sc","uni-h5"),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s(t.author.name)))]),n("text",{staticClass:t._$s(8,"sc","uni-h5"),attrs:{_i:8}},[t._v(t._$s(8,"t0-0",t._s(t.book.name)))])]),n("rich-text",{staticClass:t._$s(9,"sc","review-content"),attrs:{nodes:t._$s(9,"a-nodes",t.review),_i:9}})])])},a=[];n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},8189:function(t){t.exports={_from:"@dcloudio/uni-stat@next",_id:"@dcloudio/uni-stat@2.0.0-261120200409001",_inBundle:!1,_integrity:"sha512-iM1vsCzUEg80lCM7rSAkh+28ahjS9zQgiGsEoHxawCD9s7rTFnSRIaOuc7WHeQt6EclGUUIrMccYHXsLsNAXZg==",_location:"/@dcloudio/uni-stat",_phantomChildren:{},_requested:{type:"tag",registry:!0,raw:"@dcloudio/uni-stat@next",name:"@dcloudio/uni-stat",escapedName:"@dcloudio%2funi-stat",scope:"@dcloudio",rawSpec:"next",saveSpec:null,fetchSpec:"next"},_requiredBy:["#USER","/","/@dcloudio/vue-cli-plugin-uni"],_resolved:"https://registry.npmjs.org/@dcloudio/uni-stat/-/uni-stat-2.0.0-261120200409001.tgz",_shasum:"e9daeef120f133bf3d4ca0505f5b2abed0e874a7",_spec:"@dcloudio/uni-stat@next",_where:"/Users/guoshengqiang/Documents/dcloud-plugins/release/uniapp-cli",author:"",bugs:{url:"https://github.com/dcloudio/uni-app/issues"},bundleDependencies:!1,deprecated:!1,description:"",devDependencies:{"@babel/core":"^7.5.5","@babel/preset-env":"^7.5.5",eslint:"^6.1.0",rollup:"^1.19.3","rollup-plugin-babel":"^4.3.3","rollup-plugin-clear":"^2.0.7","rollup-plugin-commonjs":"^10.0.2","rollup-plugin-copy":"^3.1.0","rollup-plugin-eslint":"^7.0.0","rollup-plugin-json":"^4.0.0","rollup-plugin-node-resolve":"^5.2.0","rollup-plugin-replace":"^2.2.0","rollup-plugin-uglify":"^6.0.2"},files:["dist","package.json","LICENSE"],gitHead:"ff0877f516c1cc986cf2d7eae2bf5030c58050f9",homepage:"https://github.com/dcloudio/uni-app#readme",license:"Apache-2.0",main:"dist/index.js",name:"@dcloudio/uni-stat",repository:{type:"git",url:"git+https://github.com/dcloudio/uni-app.git",directory:"packages/uni-stat"},scripts:{build:"NODE_ENV=production rollup -c rollup.config.js",dev:"NODE_ENV=development rollup -w -c rollup.config.js"},version:"2.0.0-261120200409001"}},"8bbf":function(t,e){t.exports=Vue},"8de5":function(t,e,n){"use strict";n.r(e);var i=n("24f1");for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);var a,r,o,u,c=n("f0c5"),l=Object(c["a"])(i["default"],a,r,!1,null,null,null,!1,o,u);e["default"]=l.exports},"921b":function(t,e,n){"use strict";var i=n("8189");function s(t){return function(){var e,n=u(t);if(o()){var i=u(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return a(this,e)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}var _=i.version,v="https://tongji.dcloud.io/uni/stat",h="https://tongji.dcloud.io/uni/stat.gif",g=1800,y=300,m=10,b="__DC_STAT_UUID",w="__DC_UUID_VALUE";function k(){var t="";if("n"===x()){try{t=plus.runtime.getDCloudId()}catch(e){t=""}return t}try{t=uni.getStorageSync(b)}catch(e){t=w}if(!t){t=Date.now()+""+Math.floor(1e7*Math.random());try{uni.setStorageSync(b,t)}catch(e){uni.setStorageSync(b,w)}}return t}var $=function(t){var e=Object.keys(t),n=e.sort(),i={},s="";for(var a in n)i[n[a]]=t[n[a]],s+=n[a]+"="+t[n[a]]+"&";return{sign:"",options:s.substr(0,s.length-1)}},S=function(t){var e="";for(var n in t)e+=n+"="+t[n]+"&";return e.substr(0,e.length-1)},D=function(){return parseInt((new Date).getTime()/1e3)},x=function(){var t={"app-plus":"n",h5:"h5","mp-weixin":"wx","mp-alipay":"ali","mp-baidu":"bd","mp-toutiao":"tt","mp-qq":"qq"};return t["app-plus"]},O=function(){var t="";return"wx"!==x()&&"qq"!==x()||uni.canIUse("getAccountInfoSync")&&(t=uni.getAccountInfoSync().miniProgram.appId||""),t},C=function(){return"n"===x()?plus.runtime.version:""},T=function(){var t=x(),e="";return"n"===t&&(e=plus.runtime.channel),e},j=function(t){var e=x(),n="";return t||("wx"===e&&(n=uni.getLaunchOptionsSync().scene),n)},R="First__Visit__Time",q="Last__Visit__Time",P=function(){var t=uni.getStorageSync(R),e=0;return t?e=t:(e=D(),uni.setStorageSync(R,e),uni.removeStorageSync(q)),e},I=function(){var t=uni.getStorageSync(q),e=0;return e=t||"",uni.setStorageSync(q,D()),e},N="__page__residence__time",E=0,A=0,L=function(){return E=D(),"n"===x()&&uni.setStorageSync(N,D()),E},U=function(){return A=D(),"n"===x()&&(E=uni.getStorageSync(N)),A-E},B="Total__Visit__Count",M=function(){var t=uni.getStorageSync(B),e=1;return t&&(e=t,e++),uni.setStorageSync(B,e),e},H=function(t){var e={};for(var n in t)e[n]=encodeURIComponent(t[n]);return e},V=0,J=0,G=function(){var t=(new Date).getTime();return V=t,J=0,t},z=function(){var t=(new Date).getTime();return J=t,t},F=function(t){var e=0;if(0!==V&&(e=J-V),e=parseInt(e/1e3),e=e<1?1:e,"app"===t){var n=e>y;return{residenceTime:e,overtime:n}}if("page"===t){var i=e>g;return{residenceTime:e,overtime:i}}return{residenceTime:e}},X=function(){var t=getCurrentPages(),e=t[t.length-1],n=e.$vm;return"bd"===x()?n.$mp&&n.$mp.page.is:n.$scope&&n.$scope.route||n.$mp&&n.$mp.page.route},W=function(t){var e=getCurrentPages(),n=e[e.length-1],i=n.$vm,s=t._query,a=s&&"{}"!==JSON.stringify(s)?"?"+JSON.stringify(s):"";return t._query="","bd"===x()?i.$mp&&i.$mp.page.is+a:i.$scope&&i.$scope.route+a||i.$mp&&i.$mp.page.route+a},Q=function(t){return!!("page"===t.mpType||t.$mp&&"page"===t.$mp.mpType||"page"===t.$options.mpType)},K=function(t,e){return t?"string"!==typeof t?(console.error("uni.report [eventName] 参数类型错误,只能为 String 类型"),!0):t.length>255?(console.error("uni.report [eventName] 参数长度不能大于 255"),!0):"string"!==typeof e&&"object"!==typeof e?(console.error("uni.report [options] 参数类型错误,只能为 String 或 Object 类型"),!0):"string"===typeof e&&e.length>255?(console.error("uni.report [options] 参数长度不能大于 255"),!0):"title"===t&&"string"!==typeof e?(console.error("uni.report [eventName] 参数为 title 时，[options] 参数只能为 String 类型"),!0):void 0:(console.error("uni.report 缺少 [eventName] 参数"),!0)},Y=n("d943").default,Z=n("532e").default||n("532e"),tt=uni.getSystemInfoSync(),et=function(){function t(){f(this,t),this.self="",this._retry=0,this._platform="",this._query={},this._navigationBarTitle={config:"",page:"",report:"",lt:""},this._operatingTime=0,this._reportingRequestData={1:[],11:[]},this.__prevent_triggering=!1,this.__licationHide=!1,this.__licationShow=!1,this._lastPageRoute="",this.statData={uuid:k(),ut:x(),mpn:O(),ak:Z.appid,usv:_,v:C(),ch:T(),cn:"",pn:"",ct:"",t:D(),tt:"",p:"android"===tt.platform?"a":"i",brand:tt.brand||"",md:tt.model,sv:tt.system.replace(/(Android|iOS)\s/,""),mpsdk:tt.SDKVersion||"",mpv:tt.version||"",lang:tt.language,pr:tt.pixelRatio,ww:tt.windowWidth,wh:tt.windowHeight,sw:tt.screenWidth,sh:tt.screenHeight}}return d(t,[{key:"_applicationShow",value:function(){if(this.__licationHide){z();var t=F("app");if(t.overtime){var e={path:this._lastPageRoute,scene:this.statData.sc};this._sendReportRequest(e)}this.__licationHide=!1}}},{key:"_applicationHide",value:function(t,e){this.__licationHide=!0,z();var n=F();G();var i=W(this);this._sendHideRequest({urlref:i,urlref_ts:n.residenceTime},e)}},{key:"_pageShow",value:function(){var t=W(this),e=X();if(this._navigationBarTitle.config=Y&&Y.pages[e]&&Y.pages[e].titleNView&&Y.pages[e].titleNView.titleText||Y&&Y.pages[e]&&Y.pages[e].navigationBarTitleText||"",this.__licationShow)return G(),this.__licationShow=!1,void(this._lastPageRoute=t);z(),this._lastPageRoute=t;var n=F("page");if(n.overtime){var i={path:this._lastPageRoute,scene:this.statData.sc};this._sendReportRequest(i)}G()}},{key:"_pageHide",value:function(){if(!this.__licationHide){z();var t=F("page");return this._sendPageRequest({url:this._lastPageRoute,urlref:this._lastPageRoute,urlref_ts:t.residenceTime}),void(this._navigationBarTitle={config:"",page:"",report:"",lt:""})}}},{key:"_login",value:function(){this._sendEventRequest({key:"login"},0)}},{key:"_share",value:function(){this._sendEventRequest({key:"share"},0)}},{key:"_payment",value:function(t){this._sendEventRequest({key:t},0)}},{key:"_sendReportRequest",value:function(t){this._navigationBarTitle.lt="1";var e=t.query&&"{}"!==JSON.stringify(t.query)?"?"+JSON.stringify(t.query):"";this.statData.lt="1",this.statData.url=t.path+e||"",this.statData.t=D(),this.statData.sc=j(t.scene),this.statData.fvts=P(),this.statData.lvts=I(),this.statData.tvc=M(),"n"===x()?this.getProperty():this.getNetworkInfo()}},{key:"_sendPageRequest",value:function(t){var e=t.url,n=t.urlref,i=t.urlref_ts;this._navigationBarTitle.lt="11";var s={ak:this.statData.ak,uuid:this.statData.uuid,lt:"11",ut:this.statData.ut,url:e,tt:this.statData.tt,urlref:n,urlref_ts:i,ch:this.statData.ch,usv:this.statData.usv,t:D(),p:this.statData.p};this.request(s)}},{key:"_sendHideRequest",value:function(t,e){var n=t.urlref,i=t.urlref_ts,s={ak:this.statData.ak,uuid:this.statData.uuid,lt:"3",ut:this.statData.ut,urlref:n,urlref_ts:i,ch:this.statData.ch,usv:this.statData.usv,t:D(),p:this.statData.p};this.request(s,e)}},{key:"_sendEventRequest",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.key,n=void 0===e?"":e,i=t.value,s=void 0===i?"":i,a=this._lastPageRoute,r={ak:this.statData.ak,uuid:this.statData.uuid,lt:"21",ut:this.statData.ut,url:a,ch:this.statData.ch,e_n:n,e_v:"object"===typeof s?JSON.stringify(s):s.toString(),usv:this.statData.usv,t:D(),p:this.statData.p};this.request(r)}},{key:"getNetworkInfo",value:function(){var t=this;uni.getNetworkType({success:function(e){t.statData.net=e.networkType,t.getLocation()}})}},{key:"getProperty",value:function(){var t=this;plus.runtime.getProperty(plus.runtime.appid,(function(e){t.statData.v=e.version||"",t.getNetworkInfo()}))}},{key:"getLocation",value:function(){var t=this;Z.getLocation?uni.getLocation({type:"wgs84",geocode:!0,success:function(e){e.address&&(t.statData.cn=e.address.country,t.statData.pn=e.address.province,t.statData.ct=e.address.city),t.statData.lat=e.latitude,t.statData.lng=e.longitude,t.request(t.statData)}}):(this.statData.lat=0,this.statData.lng=0,this.request(this.statData))}},{key:"request",value:function(t,e){var n=this,i=D(),s=this._navigationBarTitle;t.ttn=s.page,t.ttpj=s.config,t.ttc=s.report;var a=this._reportingRequestData;if("n"===x()&&(a=uni.getStorageSync("__UNI__STAT__DATA")||{}),a[t.lt]||(a[t.lt]=[]),a[t.lt].push(t),"n"===x()&&uni.setStorageSync("__UNI__STAT__DATA",a),!(U()<m)||e){var r=this._reportingRequestData;"n"===x()&&(r=uni.getStorageSync("__UNI__STAT__DATA")),L();var o=[],u=[],c=[],l=function(t){var e=r[t];e.forEach((function(e){var n=S(e);0===t?o.push(n):3===t?c.push(n):u.push(n)}))};for(var f in r)l(f);o.push.apply(o,u.concat(c));var p={usv:_,t:i,requests:JSON.stringify(o)};this._reportingRequestData={},"n"===x()&&uni.removeStorageSync("__UNI__STAT__DATA"),"h5"!==t.ut?"n"!==x()||"a"!==this.statData.p?this._sendRequest(p):setTimeout((function(){n._sendRequest(p)}),200):this.imageRequest(p)}}},{key:"_sendRequest",value:function(t){var e=this;uni.request({url:v,method:"POST",data:t,success:function(){},fail:function(n){++e._retry<3&&setTimeout((function(){e._sendRequest(t)}),1e3)}})}},{key:"imageRequest",value:function(t){var e=new Image,n=$(H(t)).options;e.src=h+"?"+n}},{key:"sendEvent",value:function(t,e){K(t,e)||("title"!==t?this._sendEventRequest({key:t,value:"object"===typeof e?JSON.stringify(e):e},1):this._navigationBarTitle.report=e)}}]),t}(),nt=function(t){c(n,t);var e=s(n);function n(){var t;return f(this,n),t=e.call(this),t.instance=null,"function"===typeof uni.addInterceptor&&(t.addInterceptorInit(),t.interceptLogin(),t.interceptShare(!0),t.interceptRequestPayment()),t}return d(n,null,[{key:"getInstance",value:function(){return this.instance||(this.instance=new n),this.instance}}]),d(n,[{key:"addInterceptorInit",value:function(){var t=this;uni.addInterceptor("setNavigationBarTitle",{invoke:function(e){t._navigationBarTitle.page=e.title}})}},{key:"interceptLogin",value:function(){var t=this;uni.addInterceptor("login",{complete:function(){t._login()}})}},{key:"interceptShare",value:function(t){var e=this;t?uni.addInterceptor("share",{success:function(){e._share()},fail:function(){e._share()}}):e._share()}},{key:"interceptRequestPayment",value:function(){var t=this;uni.addInterceptor("requestPayment",{success:function(){t._payment("pay_success")},fail:function(){t._payment("pay_fail")}})}},{key:"report",value:function(t,e){this.self=e,L(),this.__licationShow=!0,this._sendReportRequest(t,!0)}},{key:"load",value:function(t,e){if(!e.$scope&&!e.$mp){var n=getCurrentPages();e.$scope=n[n.length-1]}this.self=e,this._query=t}},{key:"show",value:function(t){this.self=t,Q(t)?this._pageShow(t):this._applicationShow(t)}},{key:"ready",value:function(t){}},{key:"hide",value:function(t){this.self=t,Q(t)?this._pageHide(t):this._applicationHide(t,!0)}},{key:"error",value:function(t){this._platform;var e="";e=t.message?t.stack:JSON.stringify(t);var n={ak:this.statData.ak,uuid:this.statData.uuid,lt:"31",ut:this.statData.ut,ch:this.statData.ch,mpsdk:this.statData.mpsdk,mpv:this.statData.mpv,v:this.statData.v,em:e,usv:this.statData.usv,t:D(),p:this.statData.p};this.request(n)}}]),n}(et),it=nt.getInstance(),st=!1,at={onLaunch:function(t){it.report(t,this)},onReady:function(){it.ready(this)},onLoad:function(t){if(it.load(t,this),this.$scope&&this.$scope.onShareAppMessage){var e=this.$scope.onShareAppMessage;this.$scope.onShareAppMessage=function(t){return it.interceptShare(!1),e.call(this,t)}}},onShow:function(){st=!1,it.show(this)},onHide:function(){st=!0,it.hide(this)},onUnload:function(){st?st=!1:it.hide(this)},onError:function(t){it.error(t)}};function rt(){var t=n("8bbf");(t.default||t).mixin(at),uni.report=function(t,e){it.sendEvent(t,e)}}rt()},"94f8":function(t,e,n){"use strict";n.r(e);var i=n("a790"),s=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=s.a},a199:function(t,e,n){"use strict";n.r(e);var i=n("65b7"),s=n("582c");for(var a in s)"default"!==a&&function(t){n.d(e,t,(function(){return s[t]}))}(a);var r,o=n("f0c5"),u=Object(o["a"])(s["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=u.exports},a790:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{books:[],start:0,message:"豆瓣读书 Top 250",search_book:!1}},onLoad:function(){this.loadBooks()},onReachBottom:function(){var e=this;t("log","触底"," at pages\\index\\index.vue:49"),this.search_book||(this.start+=25,uni.request({url:"http://47.102.212.210:5000/top250/"+this.start,success:function(t){e.books=e.books.concat(t.data.data)}}))},methods:{loadBooks:function(){var t=this;uni.request({url:"http://47.102.212.210:5000/top250",success:function(e){t.books=e.data.data}})},reviewsList:function(e){t("log",e," at pages\\index\\index.vue:69"),uni.navigateTo({url:"../reviews/reviews?id="+e.currentTarget.dataset.subject})},searchBook:function(t){var e=this,n=t.target.value;if(""==n)return this.start=0,this.books=[],this.message="豆瓣读书 Top 250",this.search_book=!1,void this.loadBooks();this.message="搜索结果",this.search_book=!0,uni.request({url:"http://47.102.212.210:5000/search/"+n,success:function(t){e.books=t.data.data,0==e.books.length&&(e.message="没有搜索到任何结果。。。")},fail:function(){this.message="发生了错误，请稍后再试"}})}}};e.default=n}).call(this,n("0de9")["default"])},a9b5:function(t,e,n){"use strict";var i,s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","content"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-form-item"),attrs:{_i:1}},[n("input",{staticClass:t._$s(2,"sc","uni-input bottom-border"),attrs:{_i:2},on:{confirm:t.searchBook}})]),n("view",{staticClass:t._$s(3,"sc","title uni-center uni-padding-wrap uni-h4 uni-bg-blue"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.message)))]),n("view",{staticClass:t._$s(4,"sc","uni-flex flex-row book-container uni-center"),attrs:{_i:4}},[t._l(t._$s(5,"f",{forItems:t.books}),(function(e,i,s,a){return n("view",{key:t._$s(5,"f",{forIndex:s,key:"5-"+a}),staticClass:t._$s("5-"+a,"sc","uni-flex-item"),attrs:{"data-subject":t._$s("5-"+a,"a-data-subject",e.subject),_i:"5-"+a},on:{click:t.reviewsList}},[n("view",{staticClass:t._$s("6-"+a,"sc","book"),attrs:{_i:"6-"+a}},[n("view",[n("image",{attrs:{src:t._$s("8-"+a,"a-src",e.pic),_i:"8-"+a}})]),n("view",[n("text",{staticClass:t._$s("10-"+a,"sc","uni-h4"),attrs:{_i:"10-"+a}},[t._v(t._$s("10-"+a,"t0-0",t._s(e.book)))])]),n("view",[n("text",[t._v(t._$s("12-"+a,"t0-0",t._s(e.rating_num)))])]),n("view",[n("text",{staticClass:t._$s("14-"+a,"sc","uni-h5"),attrs:{_i:"14-"+a}},[t._v(t._$s("14-"+a,"t0-0",t._s(e.author)))])])])])})),n("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(15,"v-show",!t.search_book),expression:"_$s(15,'v-show',!search_book)"}],staticClass:t._$s(15,"sc","book uni-flex-item uni-padding-wrap"),attrs:{_i:15}})],2)])},a=[];n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},c223:function(t,e,n){"use strict";n.r(e);var i=n("1e51"),s=n("2723");for(var a in s)"default"!==a&&function(t){n.d(e,t,(function(){return s[t]}))}(a);var r,o=n("f0c5"),u=Object(o["a"])(s["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=u.exports},d943:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={pages:{},globalStyle:{}};e.default=i},e4ad:function(t,e,n){"use strict";n.r(e);var i=n("53dd"),s=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=s.a},f0c5:function(t,e,n){"use strict";function i(t,e,n,i,s,a,r,o,u,c){var l,f="function"===typeof t?t.options:t;if(u){f.components||(f.components={});var p=Object.prototype.hasOwnProperty;for(var d in u)p.call(u,d)&&!p.call(f.components,d)&&(f.components[d]=u[d])}if(c&&((c.beforeCreate||(c.beforeCreate=[])).unshift((function(){this[c.__module]=this})),(f.mixins||(f.mixins=[])).push(c)),e&&(f.render=e,f.staticRenderFns=n,f._compiled=!0),i&&(f.functional=!0),a&&(f._scopeId="data-v-"+a),r?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},f._ssrRegister=l):s&&(l=o?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(f.functional){f._injectStyles=l;var _=f.render;f.render=function(t,e){return l.call(e),_(t,e)}}else{var v=f.beforeCreate;f.beforeCreate=v?[].concat(v,l):[l]}return{exports:t,options:f}}n.d(e,"a",(function(){return i}))},fbdc:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{}},props:["stars"],computed:{star_count:function(){return t("log",this," at components\\star\\star.vue:19"),parseInt(this.stars)}},methods:{}};e.default=n}).call(this,n("0de9")["default"])}},[["5b09","app-config"]]]);